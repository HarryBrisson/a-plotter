
<!DOCTYPE html>


<head>

  <meta charset="utf-8">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
  <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>

</head>



<body>

  

   <a-scene>



      <a-light color="#fefeff" position="0 0 0" type="ambient"></a-light>

      <a-entity light="type: point; color: #EEE; intensity: 0.5" position="0 3 0"></a-entity>

      <a-entity position="0 0 0" rotation="0 0 0">

        <a-entity camera="userHeight:1" look-controls></a-entity>

      </a-entity>

      <a-entity vive-controls="hand: left"></a-entity>
      <a-entity vive-controls="hand: right"></a-entity>

<!--
      <a-entity geometry="primitive: plane; height:2; width:2" position="0 0 0" material="color: #555" rotation='270 0 0'></a-entity>
      <a-entity geometry="primitive: plane; height:2; width:2" position="0 2 0" material="color: #999" rotation='90 0 0'></a-entity>
      <a-entity geometry="primitive: plane; height:2; width:2" position="0 1 1" material="color: #99D" rotation='0 180 0'></a-entity>
      <a-entity geometry="primitive: plane; height:2; width:2" position="0 1 -1" material="color: #DD9" rotation='0 0 0'></a-entity>
      <a-entity geometry="primitive: plane; height:2; width:2" position="1 1 0" material="color: #B99" rotation='0 270 0'></a-entity>
      <a-entity geometry="primitive: plane; height:2; width:2" position="-1 1 0" material="color: #577" rotation='0 90 0'></a-entity>
-->

  </a-scene>

  

  <script>
 
  csv_file = "data/congressdata.csv"

  d3.csv(csv_file, function(error, data) {
      if (error) throw error;


      // create data
      // each object when read is initially a string, this makes everything a number
      data.forEach(function(d) {
        d['yeses'] = +d['yeses'];
        d['nos'] = +d['nos'];
        d['abstentions'] = +d['abstentions'];
      });

      // create a senator cube for each row of data in our csv
      d3.select("a-scene").selectAll("a-box.bar").data(data).enter().append("a-box").classed("bar", true).attr({

        position: function(d) {

          var x = d['yeses'];
          var y = d['abstentions'];
          var z = d['nos'];
          return x + " " + y + " " + z

        },

        height: 10,
        width: 10,
        depth: 10,
        opacity: .8,

        src: function(d,i) {
          return d['imageurl']
        }

    })

    })


  </script>

</body>
